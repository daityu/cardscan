<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- レスポンシブデザイン用のビューポート設定 -->
    <title>ページ離脱確認</title>
    <style>
        /* https://www.tohoho-web.com/css/prop/touch-action.htm */
        body {
            /* overscroll-behavior-y: contain; */
            /* touch-action: none; */
        }
    </style>
    <script>
        // ドキュメントが読み込まれた後にイベントリスナーを設定する
        document.addEventListener('DOMContentLoaded', function () {
            // タッチムーブイベントに対するイベントリスナーを追加する
            document.addEventListener(
                'touchmove',
                function (event) {
                    // イベントのデフォルトの挙動を抑制する（ここではタッチによるスクロールを禁止）
                    event.preventDefault();
                },
                { passive: false } // passiveオプションをfalseに設定して、preventDefaultが有効になるようにする
            );

            // 引っ張りリロードを禁止するためのイベントリスナーを追加する
            // この機能は一部のブラウザでサポートされている可能性がある
            window.addEventListener('touchmove', function (event) {
                if (event.scale !== 1) { event.preventDefault(); }
            }, { passive: false });

            // ページ離脱時に確認ダイアログを表示するイベントリスナーを追加する
            window.addEventListener('beforeunload', function (event) {
                // 確認メッセージを設定する
                var confirmationMessage = 'このページを離れますか？';
                // イベントにメッセージを設定する（一部のブラウザではカスタムメッセージが無視される）
                event.returnValue = confirmationMessage;
                // 確認ダイアログを表示する
                return confirmationMessage;
            });
        });
    </script>
</head>

<body>
    <p>このページから離れるときに確認ダイアログが表示されます。</p>
</body>

</html>